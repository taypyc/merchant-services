$(function(){var t=!1,e=$("<a />").addClass("scroll-up").attr({href:"#"}).append($('<svg class="icon icon-arrow-top"><use xlink:href="css/fonts/icons.svg#arrow-top"></use></svg>'));$("body").append(e),e.on("click",function(e){return e.preventDefault(),!t&&300<$(window).scrollTop()&&(t=!0,$("body, html").animate({scrollTop:0},500,function(){t=!1})),!1});var a=!1;$(window).scroll(function(){a||(a=!0,a=(300<$(window).scrollTop()?e.stop(!0,!0).addClass("visible"):e.stop(!0,!0).removeClass("visible"),!1))})}),$(function(){if($(".header-01").length){var e=1,t=$(".section-hero"),a="header-active",s="header-shadow";t&&t.length&&$(window).on("resize",function(){e=$(t).offset().top+$(t).outerHeight()}),$(window).on("scroll resize",function(){$(window).scrollTop()>=parseInt(e)?$("html").hasClass(a)||$("html").addClass(a):$("html").hasClass(a)&&$("html").removeClass(a),$(window).scrollTop()>=parseInt(1)?$("html").hasClass(s)||$("html").addClass(s):$("html").hasClass(s)&&$("html").removeClass(s)}),$(window).trigger("resize")}}),$(function(){var e=!1,t=$(".hb-cart-service-list"),a=$(".hb-cart-service-selected");function i(){e=!0,setTimeout(function(){e=!1},150),a.removeClass("active"),t.removeClass("active")}function s(e){var t=$(".hb-cart").find('[data-service="'+e+'"]'),a=$(".fa-step-device").find('[data-service="'+e+'"]');if($(".hb-cart-service-list li").removeClass("active"),t.addClass("active"),$(".fa-step-device .tile-img-info-link").removeClass("active"),a.addClass("active"),$(".hb-cart-01 .hbc-main").html(t.find("> span").text()),$(".hb-cart-01 .hbc-highlighted").html(t.find(".hb-cart-service-list-price > span:first-child").html()),$(".hb-cart-01 .hbc-old").html(t.find(".hb-cart-service-list-price > span:last-child").html()),history.replaceState){var s=t.data("service-url");history.replaceState(null,null,s)}$('[name="service"]').val(t.data("service")),$('[name="service"]').trigger("change"),$(".hb-cart-01").hasClass("visible")||$(".hb-cart-01").addClass("visible"),i()}($(".hb-cart-service-selected").on("click",function(){e||($(".hb-cart-service-selected").toggleClass("active"),$(".hb-cart-service-list").toggleClass("active"))}),$(document).on("mouseup touchstart",function(e){!t.hasClass("active")||t.is(e.target)||0!==t.has(e.target).length||a.is(e.target)||0!==a.has(e.target).length||i()}),$(".hb-cart-service-list li.active").length)&&s($(".hb-cart-service-list li.active").data("service"));$(".hb-cart").hasClass("hb-cart-visible")||$(".hb-cart").addClass("hb-cart-visible"),$(".hb-cart-service-list li").on("click",function(){s($(this).data("service"))}),$(".fa-step-device .tile-img-info-link").on("click",function(){s($(this).data("service"))})}),$(function(){$(".ciw-item-toggle").on("click",function(){var e=$(this);e.closest(".ciw-item").toggleClass("active"),e.siblings(".ciw-item-info").stop(!0).slideToggle(300,"easeInOutSine")})}),$(function(){var e=bowser.getParser(window.navigator.userAgent),t=e.parsedResult.browser.name,a=e.parsedResult.os.name,s=e.parsedResult.platform.name;"Internet Explorer"==t&&$("html").addClass("ms-ie"),"Microsoft Edge"==t&&$("html").addClass("ms-edge"),"Opera"==t&&$("html").addClass("opera"),"macOS"==a&&$("html").addClass("macos"),"mobile"==s||"tablet"==s?$("html").addClass("mt-device"):$("html").addClass("desktop-device")}),$(function(){$("[data-hash]").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$("body").hasClass("scrolling")||($("body").addClass("scrolling"),$("html, body").animate({scrollTop:$(t).offset().top-50},700,"easeOutQuad",function(){$("body").removeClass("scrolling")}))})}),$(function(){$.fn.extend({disable:function(t){return this.each(function(){var e=$(this);e.prop("disabled",t),!0===t&&void 0!==e.data("loading-content")&&(e.data("original-content",e.html()),e.html(e.data("loading-content"))),!1===t&&void 0!==e.data("original-content")&&e.html(e.data("original-content"))})}}),$.validator.addMethod("validEmail",function(e,t){var a=$.validator.methods.email.bind(this),s=-1<e.slice(e.lastIndexOf("@")+1).indexOf(".");return this.optional(t)||a(e,t)&&s},function(e,t){return"Please enter a valid email address."}),$.validator.addMethod("validExactLength",function(e,t,a){return this.optional(t)||e.length==a},$.validator.format("Please enter exactly {0} characters")),$.validator.addMethod("validPhone",function(e,t){return this.optional(t)||/^\(\d{3}\)\s\d{3}-\d{4}$/.test(e)},function(e,t){return"Phone format (XXX) XXX-XXXX"}),$.validator.addMethod("validZip",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},function(e,t){return"Zip format XXXXX"}),$.validator.addMethod("validTax",function(e,t){return this.optional(t)||/^\d{2}-\d{7}$/.test(e)},function(e,t){return"Tax ID format XX-XXXXXXX"}),$.validator.addMethod("validSSN",function(e,t){return this.optional(t)||/^\d{3}-\d{2}-\d{4}$/.test(e)},function(e,t){return"SSN format XXX-XX-XXXX"}),$.validator.addMethod("validUrl",function(e,t){var a=$.validator.methods.url.bind(this);return a(e,t)||a("http://"+e,t)},function(e,t){return"Please enter a valid URL."}),$.validator.addMethod("validDateFull",function(e,t){return this.optional(t)||function(e){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e))return!1;var t=e.split("/"),a=parseInt(t[0],10),s=parseInt(t[1],10),i=parseInt(t[2],10),n=new Date;if(i<1900||i>n.getFullYear()||0==a||12<a)return!1;var r=[31,28,31,30,31,30,31,31,30,31,30,31];return(i%400==0||i%100!=0&&i%4==0)&&(r[1]=29),0<s&&s<=r[a-1]}(e)},function(e,t){return"Date format MM/DD/YYYY"}),$.validator.addMethod("validDateMonth",function(e,t){return this.optional(t)||function(e){if(!/^\d{1,2}\/\d{4}$/.test(e))return!1;var t=e.split("/"),a=parseInt(t[0],10),s=parseInt(t[1],10),i=new Date;return!(s<1613||s>i.getFullYear()||0==a||12<a)}(e)},function(e,t){return"Date format MM/YYYY"}),$.validator.addMethod("validDateYear",function(e,t){return this.optional(t)||function(e){if(!/^\d{4}$/.test(e))return!1;var t=new Date;return!(e<1613||e>t.getFullYear())}(e)},function(e,t){return"Date format YYYY"}),$(".form-application").each(function(){$(this).validate({ignore:':hidden:not([name="service"])',submitHandler:function(e){var t=(e=$(e)).find('[type="submit"]'),a=e.serializeArray();t.disable(!0),n.loaderState("show"),(window.dataLayer||[]).push({event:"submit_form",completed_step:"completed-step-prepare-to-docusign"}),a.push({name:"step",value:"ds"}),$.ajax({method:"POST",url:"php/form-application.php",data:a,dataType:"json",complete:function(e){if("object"==typeof e.responseJSON){if("success"==e.responseJSON.response)return void(window.location.href=e.responseJSON.r);alert("It seems like we have a temporary problem. Please re-check all fields.")}else alert("Undefined error, please try again later.");t.disable(!1),n.loaderState("hide")}})},errorClass:"error",errorPlacement:function(e,t){var a=$(t);a.hasClass("select-item")?e.insertAfter(a.next()):a.is('[name="service"]')?e.insertBefore("#fg-btn-submit button"):e.insertAfter(a)},highlight:function(e,t,a){var s=$(e);s.hasClass("select-item")?s.next().addClass(t):s.addClass(t)},unhighlight:function(e,t,a){var s=$(e);s.hasClass("select-item")?s.next().removeClass(t):s.removeClass(t)}})});var e=[];e.push("service"),e.push("business_legal_name"),e.push("business_term"),e.push("business_email"),e.push("annual_cards_vol"),e.push("avg_sale"),e.push("business_dba_name"),e.push("products_service_sold"),e.push("business_type"),e.push("business_phone"),e.push("business_tax_id"),e.push("business_address_street"),e.push("business_city"),e.push("business_state"),e.push("business_zip"),e.push("first_name"),e.push("last_name"),e.push("title_name"),e.push("ownership_perc"),e.push("birth_date"),e.push("personal_email"),e.push("personal_phone"),e.push("home_address_street"),e.push("home_city"),e.push("home_state"),e.push("home_zip"),e.push("social_security");for(var t=0;t<e.length;t++)$('[name="'+e[t]+'"]').rules("add","required");$('[type="email"]').each(function(){$(this).rules("add",{email:!1}),$(this).rules("add","validEmail")}),$('[name="business_term"]').rules("add","validDateYear"),$('[name="birth_date"]').rules("add","validDateFull"),$("[data-field-address]").each(function(){$(this).rules("add",{maxlength:50})}),$("[data-field-city]").each(function(){$(this).rules("add",{maxlength:30})}),$("[data-mask-phone]").each(function(){$(this).rules("add","validPhone")}),$("[data-mask-zip]").each(function(){$(this).rules("add","validZip")}),$("[data-mask-tax]").each(function(){$(this).rules("add","validTax")}),$("[data-mask-percentage]").each(function(){$(this).rules("add",{min:1,max:100})}),$("[data-mask-ssn]").each(function(){$(this).rules("add","validSSN")}),$('[name="service"]').rules("add",{messages:{required:"Please select device"}}),$('[name="service"]').on("change",function(){$(this).valid()}),$('[name="business_legal_name"]').on("keyup",function(){$('[name="business_dba_name"]').val($(this).val())}),$('[name="annual_cards_vol"]').on("change",function(){var e=$(this).val(),t=$("#calc-annual-savings"),a="Up To";1e6<(e=parseInt(e,10))&&(e=1e6,$("#calc-annual-savings-d1").css("display","none"),$("#calc-annual-savings-d2").css("display","inline-block"),a="More Than");var s=parseInt(.035*e,10);t.text(s),t.unmask(),t.mask("# ##0",{reverse:!0}),t.text("$"+t.text()),$('[name="potential_savings"]').val(a+" "+t.text())});$(document).on("mask-it",function(){$("[data-mask-phone]").mask("(000) 000-0000"),$("[data-mask-zip]").mask("00000"),$("[data-mask-tax]").mask("00-0000000"),$("[data-mask-ssn]").mask("000-00-0000"),$("[data-mask-rn]").mask("000000000"),$("[data-mask-an]").mask("00000999999999999"),$("[data-mask-percentage]").mask("990",{clearIfNotMatch:!0,reverse:!0}),$("[data-mask-date]").mask("00/00/0000"),$("[data-mask-date-01]").mask("0000"),$("[data-mask-money]").each(function(){var o=$(this),l={onKeyPress:function(e,t,a,s){var i=["$0#","$0 00#","$00 000#","$000 000#","$0 000 000#","$00 000 000#","$000 000 000"],n="$0#",r=e.replace(/\s/g,"");r.length<=4?n=i[0]:5==r.length?n=i[1]:6==r.length?n=i[2]:7==r.length?n=i[3]:8==r.length?n=i[4]:9==r.length?n=i[5]:10==r.length&&(n=i[6]),o.mask(n,l)},clearIfNotMatch:!0,placeholder:"$"};o.mask("$0#",l)})}).trigger("mask-it"),$(".select-item").each(function(){var e=$(this);e.select2({placeholder:e.data("select-placeholder")&&0<e.data("select-placeholder").length?e.data("select-placeholder"):"Please select...",allowClear:!0,minimumResultsForSearch:1/0})}),$(".select-item").on("change.s2v",function(){$(this).valid()}),$(".form-files").each(function(){$(this).validate({submitHandler:function(e){var i=(e=$(e)).find('[type="submit"]'),t=new FormData(e[0]);i.disable(!0),n.loaderState("show"),$.ajax({method:"POST",url:"php/form-files.php",data:t,contentType:!1,processData:!1,dataType:"json",complete:function(e){if("object"==typeof e.responseJSON){if("success"==e.responseJSON.response)return void(window.location.href=e.responseJSON.r);if("error"==e.responseJSON.response){for(var t=e.responseJSON.d,a=0;a<t.length;a++){var s=t[a];!1===s.error&&$('[name="'+s.field+'_s"]').val("s")}0==$(".fileinput-error-description").length&&$('<p class="fileinput-error-description">Please select JPG or PNG image, <span style="white-space: nowrap">maximum size of image: 30 MB.</span></p>').insertAfter($("#voided-check-photo"))}}else alert("Undefined error, please try again later.");i.disable(!1),n.loaderState("hide")}})},errorClass:"error",errorPlacement:function(e,t){var a=$(t);a.hasClass("select-item")?e.insertAfter(a.next()):e.insertAfter(a)},highlight:function(e,t,a){var s=$(e);s.hasClass("select-item")?s.next().addClass(t):s.addClass(t)},unhighlight:function(e,t,a){var s=$(e);s.hasClass("select-item")?s.next().removeClass(t):s.removeClass(t)}})}),$("[data-mask-rn]").each(function(){$(this).rules("add",{validExactLength:9})}),$("[data-mask-an]").each(function(){$(this).rules("add",{minlength:5,maxlength:17})}),$(".custom-file-input").each(function(){$(this).on("change",function(){var e=$(this).val().split("\\").pop();$(this).next(".custom-file-label").find(".cfl-text").text(e)})});var n={form:$(".application-form-steps"),completedSteps:[],currentStep:function(){return this.form.slick("slickCurrentSlide")},goToNextStep:function(e){var t=e.closest(".fa-step-item"),a=!0,s=!1;(t.find(".form-control").each(function(){$(this).valid()||(a=!1)===s&&(s=$(this))}),a)?((window.dataLayer||[]).push({event:"submit_form",completed_step:"completed-step-"+this.currentStep()}),this.saveInfo(e)):s.focus()},saveInfo:function(e){var t=this,a=t.form.serializeArray(),s=!1,i=t.currentStep(),n=$('[name="oid"]');if(t.loaderState("show"),void 0!==e&&(s=!0,e.disable(!0)),2==i&&t.form.find('[type="submit"]').prop("disabled",!1),-1!=t.completedSteps.indexOf(i))return t.loaderState("hide"),void(!0===s&&t.changeStep(i+1));$.ajax({method:"POST",url:"php/form-application.php",data:a,dataType:"json",complete:function(e){if(t.loaderState("hide"),"object"==typeof e.responseJSON&&"success"==e.responseJSON.response&&n.val(e.responseJSON.d),!0===s)return t.completedSteps.push(i),void t.changeStep(i+1)}})},changeStep:function(e){var t=this;$("#header").outerHeight();setTimeout(function(){$("html, body").scrollTop(0),t.form.slick("slickGoTo",e),$('[name="step"]').val(e)},1)},loaderState:function(e){var t=$(".loader-wrap"),a="loader-active";"show"==e?t.addClass(a):"hide"==e&&t.removeClass(a)}};$("button[data-form-next-step]").on("click",function(){n.goToNextStep($(this))})}),$(function(){$(".application-form-steps").slick({dots:!1,arrows:!1,draggable:!1,swipe:!1,touchMove:!1,fade:!0,infinite:!1,speed:400,slidesToShow:1,adaptiveHeight:!0,accessibility:!1})});